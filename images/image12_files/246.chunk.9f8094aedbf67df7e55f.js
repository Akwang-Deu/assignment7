/*! For license information please see 246.chunk.9f8094aedbf67df7e55f.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{1142:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(3),o=a(4),i=a(11),l=a(2),c=a(191),u=a(402),d=a(45),g=a(192),m=a(423),p=a(127),b=a(1),h=a(193),O=a(26),j=a(20),y=a(17),f=a(5);const C=l.styled.div(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",margin:{top:3}},Object(f.media)(b.mediaMaxMedium,{margin:{top:0}}))),k=l.styled.div({padding:{xy:4},backgroundColor:b.WHITE,color:b.BLACK,fontWeight:"bold",margin:{left:8}}),x=l.styled.div({color:b.WHITE});var E=a(219);const v=b.mediaMinSmall,w=n.a.forwardRef(((e,t)=>{var{backgroundColor:a}=e,r=Object(o.__rest)(e,["backgroundColor"]);return n.a.createElement(l.styled.Div,Object.assign({css:Object.assign(Object.assign({backgroundColor:a,display:"flex",alignItems:"center",justifyContent:"center",flex:{grow:1,shrink:0,basis:"100%"},position:"relative"},b.fullViewportWidthBlock()),{overflow:"hidden"}),ref:t},r))})),P=Object(l.styled)(u.d,{maxWidth:"none",position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)"}),S=n.a.memo((e=>{var{backgroundColor:t,color:a,usePadding:r}=e,s=Object(o.__rest)(e,["backgroundColor","color","usePadding"]);return n.a.createElement(l.styled.Div,Object.assign({css:Object.assign(Object.assign({backgroundColor:t,color:a,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",margin:{xy:b.spacing(5)}},r&&{padding:{xy:b.spacing(5)}}),Object(f.media)(v,Object.assign(Object.assign({},r&&{padding:{x:b.spacing(12),y:b.spacing(3)}}),{margin:{y:b.spacing(5)}})))},s))})),D=l.styled.div(Object.assign({fontSize:20,fontWeight:700,fontFamily:b.headingFontFamily,textAlign:"center"},Object(f.media)(v,{fontSize:28}))),I=l.styled.div(Object.assign({fontSize:12,marginTop:b.spacing(),marginBottom:b.spacing(2),textAlign:"center",minWidth:250},Object(f.media)(v,{minWidth:320}))),T=l.styled.form({display:"flex",alignItems:"center",width:"100%",flexDirection:"row"}),V=Object(l.styled)(c.b,{backgroundColor:b.COLOR.SECONDARY.MAIN,flex:{grow:1,shrink:1,basis:"auto"},height:40,width:"100%",marginRight:b.spacing(),padding:{x:b.spacing(2)},fontSize:14}),R=l.styled.div({display:"flex",flex:{grow:0,shrink:0,basis:"auto"}}),A=Object(l.styled)(h.a,Object.assign({height:30,margin:{bottom:19,top:0},alignItems:"center",zIndex:2,display:"flex",justifyContent:"center",top:26,position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%)"},Object(f.media)(b.mediaMaxSmall,{border:{y:{x:{radius:0}}},top:30}))),N=n.a.memo((e=>{var{color:t}=e,a=Object(o.__rest)(e,["color"]);return n.a.createElement(l.styled.Div,Object.assign({css:{color:t,fontSize:10,marginTop:b.spacing(),textAlign:"center"}},a))})),B=n.a.memo((e=>{var{color:t}=e,a=Object(o.__rest)(e,["color"]);return n.a.createElement(d.a,Object.assign({css:{color:t,textDecoration:"underline"}},a))}));const M=Object(p.c)()((e=>{const t=Object(E.b)(),{signupHeading:a,signupText:r,email:o,onChangeEmail:i,emailPlaceholderText:c,submitButtonText:u,message:d,valid:p,privacyPolicyText:h,signupDiscountCode:f}=e,v=Object(y.epiPropertyValue)(e.backgroundColor),M=Object(y.epiPropertyValue)(e.backgroundImageUrl),z=Object(y.epiPropertyValue)(e.backgroundImageAltCaption),W=Object(y.epiPropertyValue)(e.transparentForeground),_=Object(y.epiPropertyValue)(e.foregroundColor),$=Object(y.epiPropertyValue)(e.foregroundImageUrl),F=Object(y.epiPropertyValue)(e.textColor),L=Object(y.epiPropertyValue)(e.buttonColor),H=Object(y.epiPropertyValue)(e.buttonTextColor),J=Object(l.styled)(e.feedback.Button,{backgroundColor:L,border:{xy:{width:0}},borderRadius:0,color:H,height:40,":hover":{backgroundColor:L}}),q=function(e,t,a){return e?"transparent":t||(a?`url(${a.url})`:"unset")}(W,_,$),U=function(e){const t=Object(g.c)(e);if(null==t)return b.COLOR.PRIMARY.TRANSPARENT;const{r:a,g:r,b:n}=t;return`rgba(${a}, ${r}, ${n}, 0.5)`}(F);return n.a.createElement(w,{backgroundColor:v,ref:t},!v&&M&&n.a.createElement(P,Object.assign({preset:Object(m.c)(e.currentBreakpoint),src:M,alt:null!=z?z:Object(s.translate)("/Newsletter/Subscribe/BackgroundText"),shouldAddResizePrefix:!1},!Object(O.c)(e.currentBreakpoint)&&{height:220,mode:"crop"})),n.a.createElement(S,{backgroundColor:q,color:F,usePadding:!W},!!d&&n.a.createElement(A,{className:"sg-newsletter-message",message:d,type:p?"success":"error",handleCloseClick:e.closeMessage,autoClose:!0},p&&!!f&&n.a.createElement(C,null,n.a.createElement(x,null,n.a.createElement(s.Translate,{phrase:"/Checkout/Voucher/DiscountCode"}),":"),n.a.createElement(k,null,f))),n.a.createElement(D,null,n.a.createElement(y.EpiProperty,{className:"sg-newsletter-heading",for:a})),n.a.createElement(I,null,n.a.createElement(y.EpiProperty,{className:"sg-newsletter-text",for:r})),n.a.createElement(T,{className:"sg-newsletter-form",onSubmit:t=>e.feedback.push(e.onSubmitEmail(t))},n.a.createElement(V,{id:"newsletterInput",type:"email",value:o,onChange:i,placeholder:`${Object(y.epiPropertyValue)(c)}...`,required:!0}),n.a.createElement(R,null,n.a.createElement(J,{type:"submit"},n.a.createElement(y.EpiProperty,{for:u})))),!!Object(y.epiPropertyValue)(h)&&n.a.createElement(N,{color:U,className:"sg-newsletter-privacy-text"},Object(y.epiPropertyValue)(h)," ",n.a.createElement(B,{color:F,to:Object(j.n)()},n.a.createElement(s.Translate,{phrase:"/Newsletter/Subscribe/Link"})))))}));var z=Object(i.a)((e=>({currentBreakpoint:e.currentBreakpoint})))(M),W=a(12),_=a(63),$=a(46);class F extends n.a.Component{constructor(e){super(e),this.onChange=e=>{const t=e.target.value;this.setState({email:t})},this.onSubmit=e=>{e.preventDefault(),$.c.track(_.q),this.setState({message:null,valid:null});const t={email:this.state.email};return Object(s.postJson)("/newsletterblock/subscribe",t).then((e=>{if(Object(W.l)(this.state.email),this.setState({message:e.message,valid:e.success}),!e.success)return Promise.reject(null);this.setState({email:""})}),(e=>{throw e}))},this.closeMessage=()=>{this.setState({valid:null,message:null,email:""})},this.state={email:"",message:null,valid:null}}render(){return n.a.createElement(z,Object.assign({message:this.state.message,onChangeEmail:this.onChange,onSubmitEmail:this.onSubmit,email:this.state.email,valid:this.state.valid,closeMessage:this.closeMessage,signupDiscountCode:this.props.signupDiscountCode},this.props.block))}}t.default=Object(i.a)((e=>({signupDiscountCode:e.appShellData.signupDiscountCode})))(F)}}]);