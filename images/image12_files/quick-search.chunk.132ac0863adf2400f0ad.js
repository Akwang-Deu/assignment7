/*! For license information please see quick-search.chunk.132ac0863adf2400f0ad.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{429:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),i=a.n(n),c=a(2),s=a(1),r=a(19),l=a(16);const o=c.styled.div({width:"100%",overflow:"hidden",position:"relative"}),d=c.styled.div({width:"100%",position:"relative"}),u=c.styled.div({display:"flex",flexDirection:"row",scrollSnapType:"x mandatory",overflowX:"auto",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth"}),h=Object(c.styled)(r.f,{position:"absolute",lineHeight:1,zIndex:2,top:"40%",backgroundColor:s.WHITE,":disabled":{display:"none"}}),p=c.styled.div({display:"flex",flex:{grow:1,shrink:1,basis:"auto"},justifyContent:"space-between"}),b=c.styled.div({display:"flex",alignItems:"center"}),m=Object(c.styled)(r.f,{lineHeight:1,padding:{xy:0},minWidth:"fit-content",zIndex:2,":disabled":{visibility:"hidden"}});var g=(e,{center:t,itemWidth:a})=>Object(n.useMemo)((()=>{const n=i.a.Children.count(e);return{slides:i.a.Children.map(e,((e,n)=>i.a.createElement(c.styled.Div,{css:{flex:{shrink:0,grow:0,basis:a},scrollSnapAlign:t?"center":"start",scrollSnapStop:"always",width:a},"data-index":n+1,key:n},e))),slideCount:n}}),[t,e,a]);var O=({wrapperRef:e,callback:t,numberOfVisibleItems:a,spaceBetween:i})=>{const c=Object(n.useCallback)((()=>requestAnimationFrame((()=>{if(e.current){const n=e.current.offsetWidth-i*(a-1);t(Math.round(n/a))}}))),[a,t,i]);Object(n.useLayoutEffect)((()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c))))};var f,j=e=>e===f.inside?s.spacing(2):-40+s.spacing(-2),E=a(159);!function(e){e.inside="inside",e.outside="outside",e.top="top"}(f||(f={}));t.b=Object(c.styled)(i.a.memo((({children:e,overflowRightBy:t,numberOfVisibleItems:a=4,spaceBetween:c=8,className:k,topContent:S,icon:y,numberOfItemsToSlide:C=1,hideSlideButtons:v=!1,center:x=!1,innerStyling:w,onScrolledToEnd:I,onSwitchIndex:T,counter:L=!1,slideButtonPosition:B=f.inside})=>{const[D,F]=Object(n.useState)(null),[R,z]=Object(n.useState)(a),A=Object(n.useRef)(null),H=Object(n.useRef)(null),M=j(B);O({wrapperRef:A,callback:e=>{D!==e&&F(e)},numberOfVisibleItems:a,spaceBetween:c});const{slides:q,slideCount:P}=g(e,{itemWidth:D,center:x}),_=Object(n.useCallback)((e=>{T&&T(e),z(e)}),[T]),W=Object(n.useCallback)((e=>{H.current.scrollTo({left:(e-a)*D})}),[D,a,H]),N=Object(n.useCallback)((()=>P<=a),[P,a]);Object(n.useEffect)((()=>{I&&!N()&&R===P&&I()}),[R,N,I,P]),Object(n.useEffect)((()=>{if(H.current&&D){const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&requestAnimationFrame((()=>_(Number(e.target.dataset.index))))}))}),{threshold:.5,root:A.current,rootMargin:`0px 0px 0px -${D*(a-1)}px`}),{children:t}=H.current;[...t].forEach((t=>e.observe(t)))}}),[D,a,H,_,A]);const Q=Object(n.useCallback)((()=>W(R-C)),[R,C,W]),K=Object(n.useCallback)((()=>W(C+(R-1)+1)),[R,C,W]),U=v||N(),G=Object(n.useMemo)((()=>{var e,t;return{marginBottom:`-${(null===(e=H.current)||void 0===e?void 0:e.offsetHeight)-(null===(t=H.current)||void 0===t?void 0:t.clientHeight)+30}px`,paddingBottom:30}}),[H.current]);return i.a.createElement(d,{css:t&&{width:`calc(100% + ${t}px)`},className:k},S&&i.a.createElement(p,{css:t&&{margin:{right:t}}},i.a.createElement(E.c,{bold:!0},y," ",S," "),i.a.createElement(b,null,B===f.top&&i.a.createElement(m,{disabled:U||R-a==0,onClick:Q,appearance:r.a.ghost,style:{marginRight:s.spacing()}},i.a.createElement(l.a.SimpleLeft,{size:16,color:s.COLOR.BLACK[400]})),L&&i.a.createElement(E.c,Object.assign({color:s.COLOR.GREY[500]},!U&&{css:{minWidth:34,textAlign:"center",whiteSpace:"nowrap"}}),R," / ",P),B===f.top&&i.a.createElement(m,{disabled:U||R===P,onClick:K,appearance:r.a.ghost,style:{marginLeft:s.spacing()}},i.a.createElement(l.a.SimpleRight,{size:16,color:s.COLOR.BLACK[400]})))),i.a.createElement(h,{disabled:U||R-a==0,onClick:Q,appearance:r.a.secondary,shape:r.d.circle,size:r.e.medium,style:{left:M}},i.a.createElement(l.a.AdvanceLeft,{size:16,color:s.COLOR.BLACK[400]})),i.a.createElement(h,{disabled:U||R===P,onClick:K,appearance:r.a.secondary,shape:r.d.circle,size:r.e.medium,style:{right:M}},i.a.createElement(l.a.AdvanceRight,{size:16,color:s.COLOR.BLACK[400]})),i.a.createElement(o,{ref:A},i.a.createElement(u,{ref:H,css:Object.assign(Object.assign({gap:c},w),G)},q)))})))},433:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(4),i=a(0),c=a.n(i),s=a(3),r=a(17),l=a(2),o=a(410),d=a(1),u=a(429),h=a(26),p=a(34),b=a(39),m=a(46),g=a(63),O=a(30),f=a(127),j=a(59),E=a(159);const k=Object(l.styled)((e=>{var{isMobile:t}=e,a=Object(n.__rest)(e,["isMobile"]);return c.a.createElement(u.b,Object.assign({css:t&&{width:`calc(100% + ${d.spacing(2)}px)`}},a))})),S=l.styled.div({height:"100%",display:"flex",flexDirection:"column"}),y=Object(l.styled)(f.d,{fontSize:14,width:"100%",textAlign:"center",margin:{top:d.spacing(2)}});var C=Object(l.styled)((({disableBadges:e,disableLikes:t,disablePrice:a,eventLocation:n,header:i,items:l,likeLocation:u,numberOfItemsToShow:C,tabIndex:v,upsellBuy:x,onClickCallback:w,onLikeToggle:I,isCart:T})=>{const L=Object(b.c)((({currentBreakpoint:e})=>Object(h.a)(e))),B=L,D=(null!=C?C:L)?2.25:4,F=(null!=C?C:L)?2:4,R=l.filter((e=>{var t;return(null===(t=e.sizes)||void 0===t?void 0:t.length)>0})),z=Object(b.b)(),A=e=>{w&&w(),n&&m.c.track(g.d,{location:n,position:e+1})};return c.a.createElement(k,{className:"sg-variation-recommended",numberOfVisibleItems:D,numberOfItemsToSlide:F,hideSlideButtons:B,onScrolledToEnd:!!n&&(()=>{m.c.track(g.c,{location:n,productCount:l.length})}),innerStyling:L&&{padding:{right:d.spacing(2)}},isMobile:L,topContent:i&&c.a.createElement(E.c,{component:E.a.div,gutterBottom:!0,variant:L?E.b.heading:E.b.title},i)},R.map(((i,l)=>c.a.createElement(S,{key:i.ticket,className:"sg-variation-carousel-item"},c.a.createElement(o.b,{preset:"UpsellCarousel",loading:"eager",fadeIn:!1,product:i,salesBadgeBackgroundColor:d.BLACK,disableSiblingColors:!0,disableContentVisibility:!0,likeLocation:u||p.c.PDP,disableLikes:t,disablePrice:a,disableBadges:e,tabIndex:v,addItemToCart:()=>z(Object(O.h)(i.sizes[0].code,1,i.ticket,"fullCart",!1)),index:l,onProductClick:A,onLikeToggle:I}),x&&c.a.createElement(y,{appearance:[f.a.Black],onClick:()=>z(Object(O.h)(i.sizes[0].code,1,i.ticket,"fullCart",!1)).then((()=>{m.c.track(g.e,{location:null!=n?n:null,position:l+1,sku:Object(r.epiPropertyValue)(i.variation.code)}),!T&&setTimeout((()=>{z(Object(j.f)())}),d.DEFAULT_DURATION)}))},c.a.createElement(s.Translate,{phrase:"/Cart/Add"}))))))}))},630:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return o}));const n=13,i=40,c=38,s=27,r=9,l=37,o=39},782:function(e,t,a){"use strict";a.r(t),a.d(t,"SEARCH_THRESHOLD",(function(){return de}));var n=a(0),i=a.n(n),c=a(2),s=a(3),r=a(11),l=a(38),o=a(84),d=a(4),u=a(1),h=a(5),p=a(115),b=a(202),m=a(45),g=a(16),O=a(216),f=a(90),j=a(39),E=a(63),k=a(46);const S=Object(c.styled)((e=>{var{isSelected:t}=e,a=Object(d.__rest)(e,["isSelected"]);return i.a.createElement(c.styled.Li,Object.assign({css:Object.assign({},t&&{backgroundColor:u.monochromeLight})},a))})),y=Object(c.styled)(m.a,Object.assign({color:u.baseTextColor,textDecoration:"none",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:12,cursor:"pointer",padding:{x:u.spacing(2),y:u.spacing()}},Object(h.media)(u.mediaMaxMedium,{padding:{x:u.spacing(2),y:0},height:44,border:{top:{width:u.thin,style:"solid",color:u.monochrome}}}))),C=Object(c.styled)((e=>{var{isSelected:t}=e,a=Object(d.__rest)(e,["isSelected"]);return i.a.createElement(c.styled.Span,Object.assign({css:Object.assign(Object.assign({flexGrow:1,marginLeft:u.spacing()},t&&{fontWeight:"bold"}),Object(h.selector)("::first-letter",{textTransform:"capitalize"}))},a))})),v=({isSelected:e})=>i.a.createElement(g.a.SimpleRight,{size:12,css:Object.assign({color:e?u.BLACK:u.GREY},Object(h.media)(u.mediaMaxMedium,{color:u.BLACK}))});var x=({item:e,listId:t,index:a,setSelectedIndex:c,searchText:s,isSelected:r})=>{const{url:o,ticket:d,text:u}=e,h=Object(n.useCallback)((()=>c(a)),[c,a]),p=Object(j.b)(),b=Object(n.useCallback)((()=>{p(Object(l.q)()),"searchHistory"===t&&k.c.track(E.I,{positionInList:a}),"popularSearches"===t&&k.c.track(E.J,{positionInList:a})}),[p,t,a]);return i.a.createElement(S,{key:o,isSelected:r},i.a.createElement(y,{to:o,onMouseEnter:h,onClick:b,linkIdentifier:d,"data-identifier":u,tabIndex:-1},"searchHistory"===t?i.a.createElement(O.a,null):i.a.createElement(O.b,null),i.a.createElement(C,{isSelected:r},s?((e,t)=>{let a=0;const n=e=>(a++,i.a.createElement("b",{key:e+a},e)),c=e=>(a++,i.a.createElement("span",{key:e+a},e));if(!(t=t.filter((e=>e.length>1))).length)return e;const s=new RegExp("("+t.sort(((e,t)=>t.length-e.length)).join("|")+")","ig"),r=[];let l,o=0;do{if(l=s.exec(e),l){const t=e.substr(o,s.lastIndex-l[1].length-o);t.length&&r.push(c(t)),r.push(n(l[1])),o=s.lastIndex}}while(l);return r.push(c(e.substr(o))),r})(u,Object(f.d)(s)):u," "),i.a.createElement(v,{isSelected:r})))},w=a(128),I=a(19);const T=Object(c.styled)(I.f,{minWidth:0,padding:{y:u.spacing(.5),left:u.spacing(),right:0},fontWeight:300,textDecoration:"underline"}),L=()=>{const e=Object(j.b)(),t=Object(n.useCallback)((()=>{e(Object(l.m)()),k.c.track(E.H)}),[e]);return i.a.createElement(T,{appearance:I.a.ghost,onClick:t},i.a.createElement(s.Translate,{phrase:"/QuickSearch/Clear"}))},B=c.styled.h2(Object.assign({fontSize:20,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",fontWeight:300,padding:{x:u.spacing(2),top:u.spacing(2),bottom:u.spacing()},margin:{xy:0},backgroundColor:u.WHITE},Object(h.media)(u.mediaMaxMedium,{padding:{xy:u.spacing(2)}}))),D=c.styled.section(Object.assign(Object.assign({border:{bottom:{width:u.thin,style:"solid",color:u.monochrome}}},Object(h.media)(u.mediaMinDesktop,{paddingBottom:u.spacing(2),":last-child":{paddingBottom:0,border:{bottom:{width:0}},marginBottom:u.spacing(2)}})),Object(h.media)(u.mediaMaxMedium,{backgroundColor:u.GREY_LIGHT}))),F=({id:e,children:t})=>i.a.createElement(D,null,i.a.createElement(B,null,i.a.createElement(R,{id:e}),"searchHistory"===e&&i.a.createElement(L,null)),i.a.createElement(w.a,{column:!0},t)),R=i.a.memo((({id:e})=>{switch(e){case"popularSearches":return i.a.createElement(s.Translate,{phrase:"/QuickSearch/PopularSearches"});case"suggestions":return i.a.createElement(s.Translate,{phrase:"/QuickSearch/Suggestions"});case"categoriesAndBrands":return i.a.createElement(s.Translate,{phrase:"/QuickSearch/CategoriesAndBrands"});case"searchHistory":return i.a.createElement(s.Translate,{phrase:"/QuickSearch/SearchHistory"});default:throw new Error("Unknown list id: "+e)}}));var z=a(630);var A=function(e,t){const[a,i]=Object(n.useState)(0),c=Object(n.useCallback)((e=>{var a;i(e),null===(a=null==t?void 0:t.onFocus)||void 0===a||a.call(t,e)}),[i,t]),s=Object(n.useCallback)((t=>{t.keyCode===z.a?(t.preventDefault(),c(a===e-1?0:a+1)):t.keyCode===z.g&&(t.preventDefault(),c(0===a?e-1:a-1))}),[e,a,c]);return Object(n.useEffect)((()=>(document.addEventListener("keydown",s,!1),()=>{document.removeEventListener("keydown",s,!1)})),[s]),[a,c]};const H=i.a.memo((function({lists:e,searchText:t}){const{currentFocus:a,setCurrentFocus:c,size:s}=((e,t)=>{const a=Object(n.useMemo)((()=>Object(f.b)(e)),[e]),i=Object(j.b)(),c=Object(n.useMemo)((()=>Object(f.a)(e)),[e]),s=Object(n.useCallback)((e=>i(Object(l.v)(e))),[i]),r=Object(n.useCallback)((t=>{const n=a[t-1];if(n){const a=e.find((e=>e.id===n.listId)).items.findIndex((e=>e.url===n.url));s(Object.assign(Object.assign({},n),{index:t,indexInList:a}))}else s()}),[s,a]),[o,d]=A(c+1,{onFocus:r});return Object(n.useEffect)((()=>{d(0)}),[t]),{currentFocus:o,setCurrentFocus:d,size:c}})(e,t);if(!s)return null;let r=0;return i.a.createElement(i.a.Fragment,null,null==e?void 0:e.map((({id:e,items:n})=>(null==n?void 0:n.length)>0&&i.a.createElement(F,{id:e,key:e},n.map((n=>(r++,i.a.createElement(x,{key:n.url,item:n,listId:e,index:r,setSelectedIndex:c,isSelected:r===a,searchText:t}))))))))}));var M=a(143),q=a(24),P=a(43);var _=Object(q.withOptimizely)((()=>{const{searchHistory:e,popularSearches:t,isOpen:a}=Object(j.c)((({quickSearch:{searchHistory:e,popularSearches:t,isOpen:a}})=>({searchHistory:e,popularSearches:t,isOpen:a}))),[{enabled:c}]=Object(q.useDecision)(P.s,{decideOptions:[q.OptimizelyDecideOption.DISABLE_DECISION_EVENT]}),[{enabled:s}]=Object(q.useDecision)(P.p,{decideOptions:[q.OptimizelyDecideOption.DISABLE_DECISION_EVENT]});Object(n.useEffect)((()=>{a&&(null==t?void 0:t.length)>0&&s&&Object(M.a)()}),[a,t,s]),Object(n.useEffect)((()=>{a&&(null==e?void 0:e.length)>0&&c&&Object(M.d)()}),[a,e,c]),Object(n.useEffect)((()=>{a&&k.c.decide(P.s)}),[a]),Object(n.useEffect)((()=>{a&&k.c.decide(P.p)}),[a]);const r=Object(n.useMemo)((()=>[{id:"popularSearches",items:s?t:[]},{id:"searchHistory",items:c?e:[]}]),[t,s,e,c]);return i.a.createElement(H,{lists:r})})),W=a(433),N=a(26);const Q=c.styled.div(Object.assign({},Object(h.media)(u.mediaMaxSmall,{margin:{top:-u.spacing()},border:{bottom:{width:u.thin,style:"solid",color:u.monochrome}},padding:{bottom:u.spacing(2)}}))),K=c.styled.div({marginLeft:u.spacing(2),zIndex:100}),U=({handleCloseSearch:e})=>{const t=Object(j.c)((({currentBreakpoint:e})=>e)),{isLoading:a,mostWantedProducts:n,relatedProducts:c,searchText:r}=Object(j.c)((e=>e.quickSearch)),l=Object(N.c)(t),o=!a&&r.length>de&&c.length>0;return i.a.createElement(Q,null,i.a.createElement(B,null,i.a.createElement(s.Translate,{phrase:o?"/QuickSearch/RelatedProducts":"/SingleProduct/Badges/MostWanted"})),i.a.createElement(K,null,i.a.createElement(W.a,{key:r,items:o?c:n,onClickCallback:()=>e(),numberOfItemsToShow:4,disableLikes:!0,disablePrice:l,disableBadges:l,tabIndex:-1})))},G=i.a.memo((e=>{var{windowHeight:t,viewportHeight:a,children:n}=e,s=Object(d.__rest)(e,["windowHeight","viewportHeight","children"]);return i.a.Children.toArray(n).some((e=>!!e))&&i.a.createElement(c.styled.Div,Object.assign({css:Object.assign({},Object(h.media)(u.mediaMaxMedium,{position:"relative",paddingBottom:a?t-a:258,width:"100vw",right:0,top:0,flexGrow:1,border:{xy:{width:0}}}))},s),n)})),V=({isOpen:e})=>{const t=Object(j.c)((({quickSearch:e})=>null==e?void 0:e.completionsLists)),a=Object(j.c)((({quickSearch:e})=>null==e?void 0:e.searchText)),c=Object(j.c)((({quickSearch:e})=>null==e?void 0:e.isLoading)),s=!!Object(f.a)(t),r=!c&&a.length>de&&s;return Object(n.useEffect)((()=>(e&&Object(p.a)(!0,"AutoCompletions"),()=>{Object(p.a)(!1,"AutoCompletions")})),[e]),r?i.a.createElement(H,{lists:s?t:[],searchText:a}):i.a.createElement(_,null)},$=c.styled.div({position:"absolute",top:"100%",width:"100%",fontSize:12,color:u.BLACK,backgroundColor:u.WHITE,boxShadow:`0px ${u.pixelsToUnit(10)} ${u.pixelsToUnit(30)} -${u.pixelsToUnit(10)} rgba(0,0,0,0.15)`,zIndex:u.ZIndex.Overlay+1}),Y=({isOpen:e})=>{const{height:t}=Object(b.e)(),{height:a}=Object(b.d)(),[{enabled:c}]=Object(q.useDecision)(P.r,{decideOptions:[q.OptimizelyDecideOption.DISABLE_DECISION_EVENT]}),s=Object(j.b)(),r=Object(n.useCallback)((()=>s(Object(l.q)())),[s]);return Object(n.useEffect)((()=>{e&&k.c.decide(P.r)}),[e]),i.a.createElement(G,{windowHeight:t,viewportHeight:a},c&&i.a.createElement(U,{handleCloseSearch:r}),i.a.createElement(V,{isOpen:e}))};var Z=c.styled.div({position:"sticky",top:0,zIndex:u.ZIndex.Header,backgroundColor:"white",height:56,flexShrink:0,width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}),J=a(225),X=a(174);var ee=({children:e,onInputFocus:t,handleCloseSearch:a})=>i.a.createElement(Z,null,i.a.createElement(c.styled.Div,{css:{position:"relative",height:40,width:"auto",flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",color:u.BLACK,backgroundColor:u.GREY_LIGHT,margin:{left:u.spacing(2),right:u.spacing()}}},i.a.createElement(X.b,{"aria-hidden":!0,onClick:t}),e),i.a.createElement(J.a,{onClick:a,"data-test-id":"cy-close-search-button"}));var te=e=>{var{children:t,isOpen:a}=e,s=Object(d.__rest)(e,["children","isOpen"]);const{height:r}=Object(b.e)(),l=Object(n.useRef)(null);return Object(b.a)(l,a),i.a.createElement(c.styled.Form,Object.assign({ref:l,css:Object.assign({width:"100%",position:"relative",display:"flex",zIndex:u.ZIndex.Overlay+1},Object(h.media)(u.mediaLessThanMaxMedium,{display:"flex",flexDirection:"column",position:"fixed",top:0,right:0,width:"100vw",height:r||"100vh",overflowY:"scroll",backgroundColor:u.WHITE,WebkitOverflowScrolling:"touch"}))},s),t)},ae=a(226);var ne=c.styled.div(Object.assign({display:"flex",flexDirection:"column"},Object(h.media)(u.mediaLessThanMaxMedium,{position:"absolute",top:0,left:0,right:0}))),ie=a(47),ce=a(77),se=a(224);const re=c.styled.div(Object.assign(Object.assign({color:u.BLACK},u.pageContainerWithMargin()),{display:"grid",gridTemplateColumns:"300px calc(100% - 300px)",gridTemplateRows:"auto auto",gridTemplateAreas:"\n  'input         input'\n  'completions   products'",padding:{right:u.spacing()}})),le=c.styled.div({zIndex:u.ZIndex.Overlay+1,width:"100%"}),oe=({searchInput:e,isOpen:t,handleCloseSearch:a})=>{const[{enabled:c}]=Object(q.useDecision)(P.r,{decideOptions:[q.OptimizelyDecideOption.DISABLE_DECISION_EVENT]}),s=Object(j.b)(),r=Object(n.useCallback)((()=>{s(t?Object(l.q)(!0):Object(l.r)()),t&&k.c.track(E.G)}),[t,s]);return Object(n.useEffect)((()=>{t&&k.c.decide(P.r)}),[t]),c?i.a.createElement(i.a.Fragment,null,i.a.createElement(se.a,null,e),i.a.createElement(ie.c,{isOpen:t,position:ie.b.Top,toggleFlyout:r},i.a.createElement(re,null,i.a.createElement(se.a,{isNewSearchWrapperFlyoutInput:!0,isOpen:t,handleCloseSearch:a},e),i.a.createElement("div",null,i.a.createElement(V,{isOpen:t})),i.a.createElement("div",null,i.a.createElement(U,{handleCloseSearch:a}))))):i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{enabled:t,onClose:r}),i.a.createElement(le,null,i.a.createElement(se.a,{isOpen:t,handleCloseSearch:a},e),t&&i.a.createElement($,null,i.a.createElement(V,{isOpen:t}))))},de=2;class ue extends i.a.Component{constructor(){super(...arguments),this.onKeyDown=e=>{switch(e.keyCode){case z.b:this.props.triggerSearch();break;case z.c:e.preventDefault(),this.searchField.blur(),this.props.hideQuickSearch();break;case z.f:this.handleCloseSearch()}},this.onChange=e=>{const t=e.currentTarget.value;t!==this.props.quickSearch.searchText&&(this.props.updateQuickSearchText(t),this.props.updateSelectedCompletion(),t.length>de&&this.props.loadQuickSearch(t))},this.onSubmit=e=>{e&&e.preventDefault(),this.props.triggerSearch()},this.onInputFocus=()=>{!this.props.quickSearch.isOpen&&this.props.showQuickSearch(),Object(s.isIOS)()?(this.searchField.style.opacity="0",setTimeout((()=>{this.searchField.style.opacity="1",this.searchField.setSelectionRange(0,this.searchField.value.length)}),0)):this.searchField.select()},this.handleCloseSearch=()=>{k.c.track(E.G),this.props.clearSearchText(),this.props.hideQuickSearch(!0)},this.onFormClick=e=>{e.stopPropagation()},this.setSearchField=e=>this.searchField=e}componentDidMount(){Object(N.a)(this.props.currentBreakpoint)||(this.unbindRootClick=Object(s.on)("click",(e=>{this.props.quickSearch.isOpen&&this.props.hideQuickSearch(),Object(s.clickedLink)(e.nativeEvent)})))}componentDidUpdate(e){!e.quickSearch.isOpen&&this.props.quickSearch.isOpen&&this.searchField.focus(),!this.props.quickSearch.isOpen&&this.searchField.blur()}componentWillUnmount(){this.unbindRootClick&&this.unbindRootClick()}render(){const{isOpen:e}=this.props.quickSearch,t=Object(N.a)(this.props.currentBreakpoint);return i.a.createElement(ne,{className:`${ue.className} ${this.props.className||""}`},i.a.createElement(te,{action:this.props.searchPageUrl,onClick:this.onFormClick,onSubmit:this.onSubmit,isOpen:e&&t},t?i.a.createElement(i.a.Fragment,null,i.a.createElement(ee,{onInputFocus:this.onInputFocus,handleCloseSearch:this.handleCloseSearch},i.a.createElement(ae.a,{elementRef:this.setSearchField,type:"search",name:"q",autoComplete:"off",placeholder:this.props.quickSearchPlaceholder,onChange:this.onChange,onFocus:this.onInputFocus,hasFocus:e,"data-test-id":"quick-search"})),i.a.createElement(Y,{isOpen:e})):i.a.createElement(oe,{isOpen:e,handleCloseSearch:this.handleCloseSearch,searchInput:i.a.createElement(ae.a,{elementRef:this.setSearchField,type:"search",name:"q",autoComplete:"off",placeholder:this.props.quickSearchPlaceholder,onChange:this.onChange,onFocus:this.onInputFocus,onKeyDown:e=>this.onKeyDown(e),hasFocus:e,"data-test-id":"quick-search"})})))}}ue.className="sg-search";const he=Object(r.a)((e=>{const t=new s.URLX(e.currentPage.url);return{currentBreakpoint:e.currentBreakpoint,q:Object(o.b)(e.currentPage)&&t.searchParams.get("q")||"",quickSearch:e.quickSearch,quickSearchPlaceholder:e.appShellData.searchPlaceholder,searchPageUrl:!!e.appShellData.siteSettings.searchPage&&e.appShellData.siteSettings.searchPage.url}}),(function(e){return{loadQuickSearch:t=>{e(Object(l.s)()),e(Object(l.o)(t))},hideQuickSearch(t=!0){e(Object(l.q)(t))},showQuickSearch(){e(Object(l.r)())},clearSearchText(){e(Object(l.n)())},updateQuickSearchText(t){e(Object(l.u)(t))},triggerSearch(){e(Object(l.t)())},updateSelectedCompletion(){e(Object(l.v)())}}}))(ue);t.default=Object(c.styled)(he)}}]);